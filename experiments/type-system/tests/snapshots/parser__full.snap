---
source: tests/parser.rs
expression: ast
---
- Let:
    kind:
      Var:
        ident:
          lexeme: v
          span:
            start: 18
            end: 19
          kind: Ident
        value:
          Lit:
            Number: 10
        type: ~
    in: ~
- Let:
    kind:
      Var:
        ident:
          lexeme: v
          span:
            start: 31
            end: 32
          kind: Ident
        value:
          Lit:
            Number: 10
        type:
          Ident:
            lexeme: int
            span:
              start: 34
              end: 37
            kind: Ident
    in: ~
- Let:
    kind:
      Var:
        ident:
          lexeme: v
          span:
            start: 55
            end: 56
          kind: Ident
        value:
          Lit:
            Bool: true
        type:
          Ident:
            lexeme: bool
            span:
              start: 58
              end: 62
            kind: Ident
    in: ~
- Let:
    kind:
      Var:
        ident:
          lexeme: v
          span:
            start: 84
            end: 85
          kind: Ident
        value:
          Lit:
            String: "\"test\""
        type:
          Ident:
            lexeme: str
            span:
              start: 87
              end: 90
            kind: Ident
    in: ~
- Let:
    kind:
      Var:
        ident:
          lexeme: v
          span:
            start: 113
            end: 114
          kind: Ident
        value:
          Lit:
            Record:
              - ident:
                  lexeme: x
                  span:
                    start: 134
                    end: 135
                  kind: Ident
                value:
                  Lit:
                    Number: 10
              - ident:
                  lexeme: y
                  span:
                    start: 141
                    end: 142
                  kind: Ident
                value:
                  Lit:
                    Number: 10
        type:
          Record:
            - - lexeme: x
                span:
                  start: 117
                  end: 118
                kind: Ident
              - Ident:
                  lexeme: int
                  span:
                    start: 119
                    end: 122
                  kind: Ident
            - - lexeme: y
                span:
                  start: 124
                  end: 125
                kind: Ident
              - Ident:
                  lexeme: int
                  span:
                    start: 126
                    end: 129
                  kind: Ident
    in: ~
- Let:
    kind:
      Func:
        ident:
          lexeme: fib
          span:
            start: 251
            end: 254
          kind: Ident
        param:
          - lexeme: n
            span:
              start: 255
              end: 256
            kind: Ident
          - Ident:
              lexeme: int
              span:
                start: 258
                end: 261
              kind: Ident
        ret:
          Ident:
            lexeme: int
            span:
              start: 265
              end: 268
            kind: Ident
        body:
          If:
            cond:
              Binary:
                op: LessThan
                lhs:
                  Use:
                    ident:
                      lexeme: n
                      span:
                        start: 276
                        end: 277
                      kind: Ident
                rhs:
                  Lit:
                    Number: 2
            then:
              Use:
                ident:
                  lexeme: n
                  span:
                    start: 287
                    end: 288
                  kind: Ident
            else:
              Binary:
                op: Mult
                lhs:
                  Use:
                    ident:
                      lexeme: n
                      span:
                        start: 296
                        end: 297
                      kind: Ident
                rhs:
                  Call:
                    func:
                      Use:
                        ident:
                          lexeme: fib
                          span:
                            start: 300
                            end: 303
                          kind: Ident
                    arg:
                      Binary:
                        op: Sub
                        lhs:
                          Use:
                            ident:
                              lexeme: n
                              span:
                                start: 305
                                end: 306
                              kind: Ident
                        rhs:
                          Lit:
                            Number: 1
    in: ~
- Call:
    func:
      Use:
        ident:
          lexeme: fib
          span:
            start: 335
            end: 338
          kind: Ident
    arg:
      Access:
        target:
          Use:
            ident:
              lexeme: v
              span:
                start: 340
                end: 341
              kind: Ident
        field:
          lexeme: x
          span:
            start: 342
            end: 343
          kind: Ident
- Let:
    kind:
      Func:
        ident:
          lexeme: print_square
          span:
            start: 351
            end: 363
          kind: Ident
        param:
          - lexeme: n
            span:
              start: 364
              end: 365
            kind: Ident
          - Ident:
              lexeme: int
              span:
                start: 367
                end: 370
              kind: Ident
        ret:
          Ident:
            lexeme: int
            span:
              start: 374
              end: 377
            kind: Ident
        body:
          Let:
            kind:
              Var:
                ident:
                  lexeme: r
                  span:
                    start: 386
                    end: 387
                  kind: Ident
                value:
                  Call:
                    func:
                      Use:
                        ident:
                          lexeme: intToStr
                          span:
                            start: 390
                            end: 398
                          kind: Ident
                    arg:
                      Binary:
                        op: Mult
                        lhs:
                          Use:
                            ident:
                              lexeme: n
                              span:
                                start: 400
                                end: 401
                              kind: Ident
                        rhs:
                          Use:
                            ident:
                              lexeme: n
                              span:
                                start: 404
                                end: 405
                              kind: Ident
                type: ~
            in:
              Call:
                func:
                  Use:
                    ident:
                      lexeme: print
                      span:
                        start: 412
                        end: 417
                      kind: Ident
                arg:
                  Binary:
                    op: Add
                    lhs:
                      Binary:
                        op: Add
                        lhs:
                          Binary:
                            op: Add
                            lhs:
                              Binary:
                                op: Add
                                lhs:
                                  Use:
                                    ident:
                                      lexeme: n
                                      span:
                                        start: 419
                                        end: 420
                                      kind: Ident
                                rhs:
                                  Lit:
                                    String: "\" * \""
                            rhs:
                              Use:
                                ident:
                                  lexeme: n
                                  span:
                                    start: 431
                                    end: 432
                                  kind: Ident
                        rhs:
                          Lit:
                            String: "\" = \""
                    rhs:
                      Use:
                        ident:
                          lexeme: r
                          span:
                            start: 443
                            end: 444
                          kind: Ident
    in: ~
- Let:
    kind:
      Func:
        ident:
          lexeme: unwrap
          span:
            start: 455
            end: 461
          kind: Ident
        param:
          - lexeme: r
            span:
              start: 462
              end: 463
            kind: Ident
          - Record:
              - - lexeme: v
                  span:
                    start: 466
                    end: 467
                  kind: Ident
                - Ident:
                    lexeme: int
                    span:
                      start: 468
                      end: 471
                    kind: Ident
        ret:
          Ident:
            lexeme: int
            span:
              start: 476
              end: 479
            kind: Ident
        body:
          Access:
            target:
              Use:
                ident:
                  lexeme: r
                  span:
                    start: 482
                    end: 483
                  kind: Ident
            field:
              lexeme: v
              span:
                start: 484
                end: 485
              kind: Ident
    in: ~
- Call:
    func:
      Use:
        ident:
          lexeme: print
          span:
            start: 488
            end: 493
          kind: Ident
    arg:
      Call:
        func:
          Use:
            ident:
              lexeme: unwrap
              span:
                start: 495
                end: 501
              kind: Ident
        arg:
          Lit:
            Record:
              - ident:
                  lexeme: v
                  span:
                    start: 503
                    end: 504
                  kind: Ident
                value:
                  Lit:
                    Number: 10

